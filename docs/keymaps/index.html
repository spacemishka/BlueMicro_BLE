<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="BlueMicro nRF52 Keyboard Firmware RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="BlueMicro nRF52 Keyboard Firmware Atom Feed"><title data-react-helmet="true">Configuring your own keymap | BlueMicro nRF52 Keyboard Firmware</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="http://bluemicro.jpconstantineau.com//docs/keymaps"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuring your own keymap | BlueMicro nRF52 Keyboard Firmware"><meta data-react-helmet="true" name="description" content="To understand how to configure your keymap, you should first know what constitutes a keycode:"><meta data-react-helmet="true" property="og:description" content="To understand how to configure your keymap, you should first know what constitutes a keycode:"><link data-react-helmet="true" rel="icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAADzVwEA01UhAO6OXwDzUgcA+JZ6APjUxAD4n4IA81ECAOjo6AD35dcA81cCAPRXGwD4oX0A+c+6APNpMwDLn40A/fHnAPX19QD27+0A+unlANTBugD88+oA81MnAPJJAQD++PUA+dPAAP3p3QDzSQEA/e/lAPNLDADHk34A8kAKAL2vrAD96+AA+JhuAP7x6AD5qoYA81IBAP328wDzUhoA+a2GAPNVAQDyWAEA81gBAPJJAgD//v4A9GQqAPz08QD839EA8k8CAPWVZwDtWhUA7l4SAO1RBQD97uEAx2g6APenfwD+7uEA/efcAPJVAgD97eQA70gOAP7t5AD4zrcA/ePXAPiWbQD96d8A8kQJAOp1PgDXnooA9G0zAPnw7QD08vAA+rmgALd8ZwD4zrgA9GIpAPJKAQD5qIYA7V0fAORnNQDzUwEA2djYAPNWAQD87eYA81kBAPjOuQD+8OYA9fT0APBNAgDxNgkA/ezhAPVuMgD5sY8A4WcuAPmwkgD4lG0A81kCAMaUgADHlIAA////APJFCQDwUAMA8WMYAO/UywDtTwYA9X1LAPmxkADySyIAyJJ+ALWqpwDyVCoA0F0rAM1vQwDBmokA/uvdAOmFXwDxTgEA+KqDAPvj2wDzTgEAxV00APRlLAD25d4Awb28APF6RAD97OMA81QBAPFFAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGRkZGRkEQgIEWRkZGRkZGRkZGRIRXFwN0p8ZGRkZGRkZGQSUDsdKBs7AW5kZGRkZGRkdCoKQyMkGyt5UmRkZGRkR2kDB2VXPE4sNSBkZGRkZAUXa11aNhYVOHVyZGRkZGQNfwtABiFBW0YpYmRkZGRkS1MpJzAtfnolVR5kZGRkZD8ACk0EZEmACmFtZGRkZGRWU01gQhg6XywrY2RkZGRkGXgiHG9zbBB2MQ9kZGRkZFRZalwfOQwaDmYUZGRkZGRkfSkpZRA+TFFeWGRkZGRkZHdnAD0JLiU0aGRkZGRkZGRkZDJPRDMCe2RkZGRkZGRkZGRkJhMvZGRkZGRkZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="><link data-react-helmet="true" rel="canonical" href="http://bluemicro.jpconstantineau.com//docs/keymaps"><link data-react-helmet="true" rel="alternate" href="http://bluemicro.jpconstantineau.com//docs/keymaps" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://bluemicro.jpconstantineau.com//docs/keymaps" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.00613c63.css">
<link rel="preload" href="/assets/js/runtime~main.c2b59094.js" as="script">
<link rel="preload" href="/assets/js/main.b5ea2683.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="BlueMicro Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="BlueMicro Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">BlueMicro nRF52 Keyboard Firmware</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="http://nrf52.jpconstantineau.com/docs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>BlueMicro Hardware<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/jpconstantineau/Community_nRF52_Arduino/wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Community nRF52 Arduino Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/jpconstantineau/BlueMicro_BLE" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/features">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/tools">How To</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools">Installing Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/understand_gpios">Understand GPIOs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_hardware">Configuring hardware_config.h</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_keyboard">Configuring keyboard_config.h</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_keymap">Configuring keymap.h.cpp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_combos">Configuring Advanced Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/keymaps">Configuring your own keymap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build">Building Firmware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flash">Flashing Firmware to your keyboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/add">Adding a new Keyboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/customize_BSP">Customizing Adafruit BSP</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/keycodes_basic">Keycodes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/tut_base">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/trouble/trouble_flash">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/style_guide">Contributing</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring your own keymap</h1></header><p>To understand how to configure your keymap, you should first know what constitutes a keycode:</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="keycodes">Keycodes<a class="hash-link" href="#keycodes" title="Direct link to heading">â€‹</a></h2><p>A single keycode field is made up of four different pieces of information:</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-hid-keycode">The HID Keycode<a class="hash-link" href="#the-hid-keycode" title="Direct link to heading">â€‹</a></h3><ul><li>this is what the key actually sends to the computer, e.g. &quot;KC_A&quot; for &quot;a&quot;</li><li>These conform with the USB HID standard and can be viewed in hid<!-- -->_<!-- -->keycodes.h</li><li>there are special keycodes defined in advanced<!-- -->_<!-- -->keycodes.h where a modifier is sent at the same time as the keycode.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-activation-method">The activation method<a class="hash-link" href="#the-activation-method" title="Direct link to heading">â€‹</a></h3><p>This is how the key is activated. options are:</p><ul><li>PRESS: it is pressed.  This is the normal operation of a keyboard where a key will be sent, and kept in the HID report until the key is released.  If you want to use another activation method, use <strong>KC_NO</strong> in the standard PRESS to make sure that the standard activations don&#x27;t get sent to the computer.</li><li>MT<!-- -->_<!-- -->TAP: it is pressed and then released.  The key is sent as soon as the key is released.  </li><li>MT<!-- -->_<!-- -->HOLD: it is pressed and held.  The key is sent when the time limit expires.  The key is not repeated.  HOLD is useful for toggling modifiers or layers.</li><li>DT<!-- -->_<!-- -->TAP: it is pressed, released and not pressed again for DOUBLETAP<!-- -->_<!-- -->TIME<!-- -->_<!-- -->LIMIT. The keyboard will wait for the double tap time limit until the single tap key is sent.</li><li>DT<!-- -->_<!-- -->DOUBLETAP: it is pressed, released and tapped again within a certain time.  The keyboard will send the key as soon as a double tap is detected.
(DOUBLETAP<!-- -->_<!-- -->TIME<!-- -->_<!-- -->LIMIT duration (in ms) is defined in KeyStates.h)</li></ul><p>There is a difference between MT<!-- -->_<!-- -->TAP and DT<!-- -->_<!-- -->TAP:  The key difference is when the keycode is sent.  With MT, the keycode is sent as soon as the key is released.  With DT, the keycode is sent some time after the key is released: delay time is there to detect the double taps.</p><p>Note: if you receive repeated keypresses, check that you do not have PRESS, MT_TAP and DT_TAP are not all defined.<br>
<!-- -->It is recommended that you use one of the 3 methods and do not combine them:</p><ul><li>PRESS: key is sent with every HID report. The computer will automatically detect this and repeat the keycode until a HID report without the keycode is received. Default behaviour.  Note that if the computer loose connection with the keyboard, it will not receive the &quot;empty&quot; HID report and will start repeating the keypress.</li><li>MT_TAP/MT_HOLD: This adds a timer to the keyboard to detect when the key is being held.  When held, a different keycode can be sent.  For each activation state of this method, a single HID report will be sent and then immediately released.</li><li>DT_TAP/DT_DOUBLETAP: This adds a timer to  the keyboard to detect if the same key is pressed again within a given time period.  When double-tapped, a different keycode can be sent. For each activation state of this method, a single HID report will be sent and then immediately released.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-activation-duration">The activation duration<a class="hash-link" href="#the-activation-duration" title="Direct link to heading">â€‹</a></h3><p>Once Activated, sending of the keycode can be sent at different times:</p><ul><li><p>Momentary (default): as long as the key is active the keycode will be sent in every HID report to the computer.  This is the normal operation of a keyboard. Note that if the computer loose connection with the keyboard, it will not receive the &quot;empty&quot; HID report and will keep repeating the keypress.</p></li><li><p>Toggle: The keycode will be sent in every HID report to the computer, as long as a key with the same keycode isn&#x27;t pressed. This is similar to how SHIFT and CAPS LOCK work.  However, this is done on the keyboard and can be applied to any modifier.
Toggle is useful with modifiers and layers.  You can toggle the key until the toggle keystroke is pressed again.</p></li><li><p>Oneshot: The keycode will be sent for a single HID report to the computer.  The keycode will be sent with the next non-null report to the computer (next keypress).  An an example, SHIFT key makes the next letter into a capital letter but no other one thereafter.  OneShot is useful for modifiers when a specific modifier should be sent along with the next key.  OneShot currently do not work for selecting layers.</p></li></ul><p>The activation duration can be defined in the following way:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">DURATION(HID keycode)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>e.g.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">TG(KC_LSHIFT)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OS(KC_LSHIFT)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The activation duration are included as part of the definition for a layer or a single key.  As such, it does not get </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-layer">The layer<a class="hash-link" href="#the-layer" title="Direct link to heading">â€‹</a></h3><p>The Layer ID is needed to identify which layer the keypresses are being mapped to.  These map out to 0-15. </p><p>The three key pieces of information needed to define each key press are:</p><ul><li>Layer ID</li><li>activation method (default press &amp; repeat, tap, double-tap hold)</li><li>HID Keycode;  includes the activation duration modifier when needed (toggle, one shot)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-default-layer">The default layer<a class="hash-link" href="#the-default-layer" title="Direct link to heading">â€‹</a></h3><p>The default layer is the layer which you will most often use. Generally this is the &quot;QWERTY&quot; Layer.
Here, you give the
HID Keycode and optionally the activation duration for the default method on the default layer
(currently PRESS and layer 0).</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">std::array&lt;std::array&lt;Key, MATRIX_COLS&gt;, MATRIX_ROWS&gt;  matrix {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">KEYMAP(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;i&gt;KEYCODE1&lt;/i&gt;, &lt;i&gt;KEYCODE2&lt;/i&gt;, &lt;i&gt;etc.&lt;/i&gt;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For example for the gherkin:</p><p>std::array&lt;std::array&lt;Key, MATRIX_COLS&gt;, MATRIX_ROWS&gt; matrix =
{KEYMAP(
KC_Q,    KC_W,    KC_E,    KC_R,    KC_T,    KC_Y,    KC_U,    KC_I,    KC_O,    KC_P,
KC_A,    KC_S,    KC_D,    KC_F,    KC_G,    KC_H,    KC_J,    KC_K,    KC_L,    KC_ESC,
KC_Z,    KC_X,    KC_C,    KC_V,    KC_SPC,  KC_BKSPC,KC_B,    KC_N,    KC_M,    KC_NO )};</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="further-layers">Further layers<a class="hash-link" href="#further-layers" title="Direct link to heading">â€‹</a></h2><p>You can define layers in the same way as the default layer for any activation method and layer combo,
e.g. PRESS on layer 1 or MT<!-- -->_<!-- -->TAP for layer 0. Most of the time, you&#x27;ll only need press layers unless you use other activation methods a lot. You will need to add a tuple <strong> people won&#x27;t understand what a tuple is...</strong> of this layer using the addLayers function.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">uint32_t &lt;i&gt;LAYER_NAME&lt;/i&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    KEYMAP(&lt;i&gt;...&lt;/i&gt;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">};</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">for (int row = 0; row &lt; MATRIX_ROWS; ++row)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int col = 0; col &lt; MATRIX_COLS; ++col)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        matrix[row][col].addActivation(&lt;i&gt;LAYER&lt;/i&gt;, &lt;i&gt;METHOD&lt;/i&gt;, &lt;i&gt;KEYCODE&lt;/i&gt;));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}  </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="single-keys">Single keys<a class="hash-link" href="#single-keys" title="Direct link to heading">â€‹</a></h2><p>You&#x27;ll most likely use this to configure keys with uncommon activation methods, e.g. DT<!-- -->_<!-- -->DOUBLETAP.  However, when using a remapping macro (KEYMAP), it is recommended to create a full matrix with KC_NO everywhere except for where the specific activation method is desired.  However, for keyboards with no need for the KEYMAP macro, you can use the specific row and column directly (instead of looping over each row/column as shown above).</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">matrix[&lt;i&gt;row&lt;/i&gt;][&lt;i&gt;col&lt;/i&gt;].addActivation(&lt;i&gt;LAYER&lt;/i&gt;, &lt;i&gt;METHOD&lt;/i&gt;, &lt;i&gt;KEYCODE&lt;/i&gt;);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/jpconstantineau/BlueMicro_BLE/tree/documentation-docusaurus/documentation/docs/configuration_keymap.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/configure_combos"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuring Advanced Features</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/build"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building Firmware</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#keycodes" class="table-of-contents__link toc-highlight">Keycodes</a><ul><li><a href="#the-hid-keycode" class="table-of-contents__link toc-highlight">The HID Keycode</a></li><li><a href="#the-activation-method" class="table-of-contents__link toc-highlight">The activation method</a></li><li><a href="#the-activation-duration" class="table-of-contents__link toc-highlight">The activation duration</a></li><li><a href="#the-layer" class="table-of-contents__link toc-highlight">The layer</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#the-default-layer" class="table-of-contents__link toc-highlight">The default layer</a></li></ul></li><li><a href="#further-layers" class="table-of-contents__link toc-highlight">Further layers</a></li><li><a href="#single-keys" class="table-of-contents__link toc-highlight">Single keys</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/ecnCR9P" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCFpGp4hHe03nvF9c8_gF_jA" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/jpconstantineau/BlueMicro_BLE" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Pierre Constantineau. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c2b59094.js"></script>
<script src="/assets/js/main.b5ea2683.js"></script>
</body>
</html>